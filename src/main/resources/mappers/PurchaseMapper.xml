<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.lanhuhebi.elderly_group.dao.PurchaseDao">

    <select id="getPurchaseById" resultType="cn.lanhuhebi.elderly_group.model.pojo.Purchase">
        select
                purse_id as purseId,
                purse_num as purseNum,
                purse_purseDate as pursePurseDate,
                purse_payMethod as pursePayMethod,
                purse_payDate as pursePayDate,
                purse_receipt as purseReceipt,
                purse_instPtl as purseInstPtl,
                purse_outlibDate as purseOutlibDate,
                purse_dist_id as purseDistId,
                purse_instDate as purseInstDate,
                purse_ept_No as purseEptNo,
                purse_fly_id as purseFlyId,
                purse_status as purseStatus,
                purse_photo as pursePhoto
        from purchase
        <trim prefix="where" prefixOverrides="and | or">
            <if test="id != null">
                and id=#{id}
            </if>
        </trim>
    </select>

    <insert id="addPurchase" parameterType="cn.lanhuhebi.elderly_group.model.pojo.Purchase">
        insert into purchase(
                    purse_id,
                    purse_num,
                    purse_purseDate,
                    purse_payMethod,
                    purse_payDate,
                    purse_receipt,
                    purse_instPtl,
                    purse_outlibDate,
                    purse_dist_id,
                    purse_instDate,
                    purse_ept_No,
                    purse_fly_id,
                    purse_status,
                    purse_photo)
        values(
                    #{purseId},
                    #{purseNum},
                    #{pursePurseDate},
                    #{pursePayMethod},
                    #{pursePayDate},
                    #{purseReceipt},
                    #{purseInstPtl},
                    #{purseOutlibDate},
                    #{purseDistId},
                    #{purseInstDate},
                    #{purseEptNo},
                    #{purseFlyId},
                    #{purseStatus},
                    #{pursePhoto})
    </insert>

    <update id="updatePurchase" parameterType="cn.lanhuhebi.elderly_group.model.pojo.Purchase">
        update purchase
        <trim prefix="set" suffixOverrides="," suffix="where id=#{id}">
                        <if test="purseId != null and purseId!=''">
                            purse_id=#{purseId},
                        </if>
                        <if test="purseNum != null and purseNum!=''">
                            purse_num=#{purseNum},
                        </if>
                        <if test="pursePurseDate != null and pursePurseDate!=''">
                            purse_purseDate=#{pursePurseDate},
                        </if>
                        <if test="pursePayMethod != null and pursePayMethod!=''">
                            purse_payMethod=#{pursePayMethod},
                        </if>
                        <if test="pursePayDate != null and pursePayDate!=''">
                            purse_payDate=#{pursePayDate},
                        </if>
                        <if test="purseReceipt != null and purseReceipt!=''">
                            purse_receipt=#{purseReceipt},
                        </if>
                        <if test="purseInstPtl != null and purseInstPtl!=''">
                            purse_instPtl=#{purseInstPtl},
                        </if>
                        <if test="purseOutlibDate != null and purseOutlibDate!=''">
                            purse_outlibDate=#{purseOutlibDate},
                        </if>
                        <if test="purseDistId != null and purseDistId!=''">
                            purse_dist_id=#{purseDistId},
                        </if>
                        <if test="purseInstDate != null and purseInstDate!=''">
                            purse_instDate=#{purseInstDate},
                        </if>
                        <if test="purseEptNo != null and purseEptNo!=''">
                            purse_ept_No=#{purseEptNo},
                        </if>
                        <if test="purseFlyId != null and purseFlyId!=''">
                            purse_fly_id=#{purseFlyId},
                        </if>
                        <if test="purseStatus != null and purseStatus!=''">
                            purse_status=#{purseStatus},
                        </if>
                        <if test="pursePhoto != null and pursePhoto!=''">
                            purse_photo=#{pursePhoto}
                        </if>
        </trim>
    </update>

    <delete id="delPurchaseById" parameterType="String">
        delete from purchase where id = #{id}
    </delete>

</mapper>